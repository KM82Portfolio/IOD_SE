<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="./js/script.js" defer></script>
    <title>Transaction Dashboard</title>
</head>

<body>

    <header class="mainHeader">
        <h4>Personal Finance Tracker</h4>
    </header>
    
    <fieldset class="transactionDetails" class="form">
        <legend>Transaction Details</legend>
        <label for="transactionDatePicker">Select Transaction Date</label>
        <input type="date" id="transactionDatePicker" onchange="logDate()" required />

        <label for="ddlselectType" class="ddlClass">Select Income/Expense</label>
        <select name="ddlselectType" id="ddlselectType" onchange="store_ddlSelect('ddlselectType')" required>
            <option value="">Select Income/Expense</option>
            <option value='Income'>Income</option>
            <option value='Expense'>Expense</option>
        </select>

        <label for="ddlselectCategory" class="ddlClass">Select Category</label>
        <select name="ddlselectCategory" id="ddlselectCategory" onchange="store_ddlSelect('ddlselectCategory')" required>
            <option value="">Select Category</option>
            <option value='Salary'>Salary</option>
            <option value='Food'>Food</option>
            <option value='Rent'>Rent</option>
            <option value='Entertainment'>Entertainment</option>
        </select>

        <label for="transactionAmount">Enter Amount</label>
        <input type="number" id="transactionAmount" min="0" required />

        <button id="btnUpdTbl">Add Transaction</button>
    </fieldset>

    <fieldset class="transactionRecord" class="table">
        <legend>Transaction Record</legend>
        <div class="button-group">
            <button id="sortDateAscending" onclick="sortArrayDate(1)">Sort Date Ascending</button>
            <button id="sortDateDescending" onclick="sortArrayDate(2)">Sort Date Descending</button>
            <button id="sortAmtAscending" onclick="sortArrayAmt(1)">Sort Amount Ascending</button>
            <button id="sortAmtDescending" onclick="sortArrayAmt(2)">Sort Amount Descending</button>
        </div>

        <table id="transactionTable" class="table-responsive">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Type</th>
                    <th>Category</th>
                    <th>Amount</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody></tbody> <!-- this will be dynamically populated by logTransaction() when btnUpdTbl clicked -->
        </table>

        <p id="runningTotalDiv">Running Total: <span id="runningTotal"></span></p>
        <div id="test_area11"></div>
        <button id="start-btn">Start Currency Extraction</button>
        <p id="retrievingCurrency"></p>
    </fieldset>

    <fieldset class="barchart" >
        <legend>Transactions</legend>
        <canvas id="transactionChart"></canvas>
    </fieldset>            
    
    <fieldset class="piechart">
        <legend>Categorized Transactions</legend>
        <canvas id="categoryChart"></canvas>
    </fieldset>            
    

</body>
</html>
